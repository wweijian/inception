DB_DATA = /home/wjhoe/data/db
WP_DATA = /home/wjhoe/data/wordpress

all: build run

build: $(DB_PATH) $(WP_PATH)
	@docker compose -f ./srcs/docker-compose.yml build
	@docker ps

$(DB_DATA):
	mkdir -p $(DB_DATA)

$(WP_DATA):
	mkdir -p $(WP_DATA)

run:
	@docker compose -f srcs/docker-compose.yml up -d

check:
	@docker ps -a

clean:
	@docker compose -f srcs/docker-compose.yml down

fclean: clean
	docker system prune -a -f

re: fclean all

.PHONY: all build run check clean fclean re
